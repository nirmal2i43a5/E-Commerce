=>also add discount
=>select on particular items i.e when i click on grocery then show grocery items electronic for electronic for electronic items
=>
https://carlofontanos.com/checkout/order-received/10957/?key=wc_order_oCkNDQ0NMXNcq&utm_nooverride=1        ==>ajax pagination with sort

--------------------------------------------------------------------------------------------------------------------------------------------------
=>One customer can have only one order id and many product id
=>In this project quantity add and remove is done with same id that is used for adding cart item to the cart
=>Main thing involves to add item to the cart are (data-action,class,data-product={{product.id}})


-------------------------------------------------------------------------------------
=>https://simpleisbetterthancomplex.com/tutorial/2016/10/24/how-to-add-social-login-to-django.html 

-----------------------------------Handling errors-----------------------
when i open in incognite window it gives errror when i process_order or when click payment option

-------------------------------------------------------------
Error:-
-------------------------------------------------------------
(index):320 POST http://127.0.0.1:9000/process_order/ 403 (Forbidden)
submitFormData @ (index):320
(anonymous) @ (index):285
(index):1 Uncaught (in promise) SyntaxError: Unexpected token < in JSON at position 1
------------------------------------------------------------------------------
To solve this i must use @csrf_except in process_order views


Paypal integration :
1 ) sentbox account is fake account in paypal that means any account that we create goes to dumpy account
2 ) debit or  credit card option does not work if i dont have ssl certificate 
3 ) In sentbox create two account money one is for sending(business) another for receiving(personal)


Paypal Documentation
- Button demos: https://developer.paypal.com/demo/che...

- Button styling: https://developer.paypal.com/docs/arc...

- Sandbox accounts: https://developer.paypal.com/develope...


for guest order:
=>At first i  use cookie to store data which i found is not pertinent
=>So later i save the user device id (generic or unique id) and also send  their product

In using device id I get error when add to cart in product_desc
=>'AnonymousUser' object has no attribute 'customer' error? I will handel it later
=>in product_view except is not working 
=>tutorial use this separately so it become quite arduous to integrate in the project




        var user = '{{request.user}}'
    
        function getToken(name) {
            var cookieValue = null;
            if (document.cookie && document.cookie !== '') {
                var cookies = document.cookie.split(';');
                for (var i = 0; i < cookies.length; i++) {
                    var cookie = cookies[i].trim();
                    // Does this cookie string begin with the name we want?
                    if (cookie.substring(0, name.length + 1) === (name + '=')) {
                        cookieValue = decodeURIComponent(cookie.substring(name.length + 1));
                        break;
                    }
                }
            }
            return cookieValue;
        }
   

      

        //set cookie for guest checkout 
        var csrftoken = getToken('csrftoken')
        

		function getCookie(name) {//grab browser cookie 
		    // Split cookie string and get all individual name=value pairs in an array
		    var cookieArr = document.cookie.split(";");

		    // Loop through the array elements
		    for(var i = 0; i < cookieArr.length; i++) {
		        var cookiePair = cookieArr[i].split("=");

		        /* Removing whitespace at the beginning of the cookie name
		        and compare it with the given string */
		        if(name == cookiePair[0].trim()) {
		            // Decode the cookie value and return
		            return decodeURIComponent(cookiePair[1]);
		        }
		    }

		    // Return null if not found
		    return null;
    }


  //When a visitor comes to our website, we want to create a cookie for our cart. Regardless of whether they are logged in or not.
    var cart = JSON.parse(getCookie('cart'))//'cart' argument come from addCookieItem in cart.js
    //i use this in guest checkout concept for non login user
//If our browser does not contain a cookie called "cart", which is expected on the first load, let's create one.
		if (cart == undefined){//means if cart is empty ie.when return null from getCookie()
			cart = {}//empty javascript object
			console.log('Cart Created!', cart)
			document.cookie ='cart=' + JSON.stringify(cart) + ";domain=;path=/"
		}
    console.log('Cart::::', cart)//if card is defined
    /*==>A cookie is a key-value part so we set the name with "cart=" and then stringify the Javascript object (cart), 
    then set the domain so we have this same cookie on every page.

      ==>If we don't add ";domain=;path/" then we will create a new cookie on each page and our cart will NOT be consistent, so be sure to add this.*/


//for guest user device id 



function getCookieValue(name) {//https://docs.djangoproject.com/en/3.0/ref/csrf/
  var cookieValue = null;
  if (document.cookie && document.cookie !== '') {
      var cookies = document.cookie.split(';');
      for (var i = 0; i < cookies.length; i++) {
          var cookie = cookies[i].trim();
          // Does this cookie string begin with the name we want?
          if (cookie.substring(0, name.length + 1) === (name + '=')) {
              cookieValue = decodeURIComponent(cookie.substring(name.length + 1));
              break;
          }
      }
  }
  return cookieValue;
}


		function uuidv4() {
		  return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function(c) {
		    var r = Math.random() * 16 | 0, v = c == 'x' ? r : (r & 0x3 | 0x8);
		    return v.toString(16);
		  });
		}




		let device = getCookieValue('device')

		if (device == null || device == undefined){//it checks in the cookie and if there is already device id then it dont create else create
			device = uuidv4()//generate id
		}

    document.cookie ='device=' + device + ";domain=;path=/"


